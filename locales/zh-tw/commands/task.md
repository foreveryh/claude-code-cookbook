## Task

啟動專用代理，自主執行復杂的搜索、調查和分析任務。通過組合多個工具進行大規模資訊處理，重視上下文效率。

### 使用方法

```bash
# 向 Claude 請求 Task
「用 Task 調查[课題]」
```

### Task 的特點

**自主執行**

- 自動組合多個工具執行
- 分阶段資訊收集和分析
- 結果整合和結構化報告

**高效資訊處理**

- 優化上下文消耗
- 大規模文件搜索和解析
- 從外部資訊源收集數據

**質量保證**

- 資訊源可靠性檢查
- 多角度驗證
- 自動補充缺失資訊

### 基本示例

```bash
# 復杂代碼庫調查
「用 Task 調查這個功能在哪些文件中實現」

# 大規模文件搜索
「用 Task 識別配置文件的不一致」

# 外部資訊收集
「用 Task 調查最新的 AI 技術趨勢」
```

### 與 Claude 配合

```bash
# 復杂問題分析
「用 Task 分析內存洩漏的原因。包括性能分析結果和日誌」

# 依賴關系調查
「用 Task 調查這個 npm 包的漏洞」

# 竞品分析
「用 Task 調查竞品服務的 API 規格」

# 架構分析
「用 Task 分析這個微服務的依賴關系」
```

### 與其他命令的區別

#### Task vs 其他命令

| 命令                | 主要用途         | 執行方式   | 資訊收集       |
| ------------------- | ---------------- | ---------- | -------------- |
| **Task**            | 調查・分析・搜索 | 自主執行   | 多源           |
| ultrathink          | 深度思考・判斷   | 結構化思考 | 以現有知識為主 |
| sequential-thinking | 問題解決・設計   | 分阶段思考 | 按需           |
| plan                | 制定實施計劃     | 批準流程   | 需求分析       |

#### 判斷流程圖

```
需要資訊收集？
├─ Yes → 多源・大規模？
│          ├─ Yes → **Task**
│          └─ No → 常規提問
└─ No → 需要深度思考？
          ├─ Yes → ultrathink/sequential-thinking
          └─ No → 常規提問
```

### 有效場景・不需要的場景

**有效場景**

- 復杂代碼庫調查(依賴關系、架構分析)
- 大規模文件搜索(特定實現模式、配置文件)
- 外部資訊收集和整理(技術趨勢、庫調查)
- 多源資訊整合(日誌解析、指標分析)
- 重復調查工作(安全審計、技術债務調查)
- 想避免上下文消耗的大規模分析

**不需要的場景**

- 簡單問題或可用現有知識回答的內容
- 短時間完成的單次工作
- 需要交互式確認和咨询的工作
- 實施或設計判斷(plan 或思考類命令更合適)

### 分類詳细示例

#### 系統分析・調查

```bash
# 復杂系統分析
「用 Task 識別電商網站的瓶頸。調查數據庫、API、前端的整體」

# 架構分析
「用 Task 分析這個微服務的依賴關系。包括 API 通信和數據流」

# 技術债務調查
「用 Task 分析遗留代碼的技術债務。包括重構優先級」
```

#### 安全・合規

```bash
# 安全審計
「用 Task 調查這個應用的漏洞。基于 OWASP Top 10」

# 许可證調查
「用 Task 調查項目依賴的许可證問題」

# 配置文件審計
「用 Task 識別安全配置的不一致。包括環境間的差異」
```

#### 性能・優化

```bash
# 性能分析
「用 Task 識別應用中的慢查询。包括執行計劃和優化方案」

# 資源使用調查
「用 Task 調查內存洩漏的原因。包括性能分析結果和代碼解析」

# 打包大小分析
「用 Task 調查前端打包大小問題。包括優化建議」
```

#### 外部資訊收集

```bash
# 技術趨勢調查
「用 Task 調查 2024 年的 JavaScript 框架動向」

# 竞品分析
「用 Task 調查竞品服務的 API 規格。包括功能對比表」

# 庫評估
「用 Task 調查狀態管理庫的比较。包括性能和學習成本」
```

### 執行流程和質量保證

#### Task 的執行流程

```
1. 初始分析
   ├─ 分解课題和確定調查範圍
   ├─ 選擇必要的工具和資訊源
   └─ 制定執行計劃

2. 資訊收集
   ├─ 文件搜索・代碼解析
   ├─ 收集外部資訊
   └─ 數據結構化

3. 分析・整合
   ├─ 分析收集資訊的關聯性
   ├─ 識別模式和問題點
   └─ 驗證假設

4. 報告・建議
   ├─ 結構化結果
   ├─ 創建改進建議
   └─ 提示下一步行動
```

#### 質量保證

- **資訊源可靠性檢查**: 通過多源確認事實
- **完整性確認**: 檢查調查對象是否有遗漏
- **一致性驗證**: 確認矛盾資訊的整合性
- **實用性評估**: 評估建議的可行性和效果

### 錯誤處理和約束事項

#### 常見約束

- **外部 API 使用限制**: 速率限制和認證錯誤
- **大文件處理限制**: 內存和超時約束
- **訪問權限問題**: 文件和目錄的訪問限制

#### 錯誤時的處理

- **部分結果報告**: 仅使用獲取的資訊進行分析
- **替代方案建議**: 在約束下的替代調查方法
- **分阶段執行**: 分割執行大規模任務

### 注意事項

- Task 最適合復杂且自主的調查和分析任務
- 簡單問題或需要即時回答時，請使用常規提問形式
- 調查結果作為參考資訊，重要判斷必须驗證
- 收集外部資訊時，注意資訊的時效性和準確性

### 執行示例

```bash
# 使用示例
「用 Task 調查 GraphQL Schema 的問題」

# 預期行為
# 1. 啟動專用代理
# 2. 搜索 GraphQL 相關文件
# 3. 解析 Schema 定義
# 4. 與最佳實践比较
# 5. 識別問題並提出改進建議
# 6. 創建結構化報告
```
