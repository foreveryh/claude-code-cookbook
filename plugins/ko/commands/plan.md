## 계획 수립

구현 전 계획 수립 모드를 시작해서 상세한 구현 전략을 수립합니다. 코드 구현 전에 구조화된 계획을 세움으로써 효율적인 개발을 지원합니다.

### 사용법

```bash
# Claude 에게 Plan Mode 의뢰
"[구현 내용] 구현 계획을 세워주세요"
```

### 기본 사용 예시

```bash
# 새 기능의 구현 계획
"사용자 인증 기능 구현 계획을 세워주세요"

# 시스템 설계 계획
"마이크로서비스 분할 구현 계획을 세워주세요"

# 리팩터링 계획
"레거시 코드 리팩터링 계획을 세워주세요"
```

### Claude 와의 연동

```bash
# 복잡한 기능 구현
"채팅 기능 구현 계획을 세워주세요. WebSocket, 실시간 알림, 기록 관리를 포함해서"

# 데이터베이스 설계
"쇼핑몰 데이터베이스 설계 계획을 세워주세요. 상품, 주문, 사용자 관리를 포함해서"

# API 설계
"GraphQL API 구현 계획을 세워주세요. 인증, 캐시, 레이트 제한을 포함해서"

# 인프라 설계
"Docker 화 구현 계획을 세워주세요. 개발 환경, 프로덕션 환경, CI/CD 를 포함해서"
```

### Plan Mode 의 특징

**자동 시작**

- 구현 작업을 감지하면 자동으로 Plan Mode 시작
- "구현 계획을 세워주세요" 등의 키워드로 명시적 시작 가능

**구조화된 명세서**

- 요구사항 정의 (사용자 스토리·수용 기준)
- 설계서 (아키텍처·데이터 설계·UI 설계)
- 구현 계획 (작업 분해·진행 추적·품질 보증)
- 위험 분석 및 대책

**승인 프로세스**

- `exit_plan_mode` 도구로 계획 제시
- **중요**: 도구의 반환 값과 관계없이 반드시 사용자의 명시적 승인 대기
- 승인 없는 구현 시작 금지
- 계획의 수정·조정 가능
- 승인 후에만 TodoWrite 로 작업 관리 시작

### 상세 사용 예시

```bash
# 복잡한 시스템 구현
"온라인 결제 시스템 구현 계획을 세워주세요. Stripe 연동, 보안, 오류 처리를 포함해서"

# 프론트엔드 구현
"React 대시보드 구현 계획을 세워주세요. 상태 관리, 컴포넌트 설계, 테스트를 포함해서"

# 백엔드 구현
"RESTful API 구현 계획을 세워주세요. 인증, 유효성 검사, 로그 기록을 포함해서"

# DevOps 구현
"CI/CD 파이프라인 구현 계획을 세워주세요. 테스트 자동화, 배포, 모니터링을 포함해서"
```

### 3 단계 워크플로

#### Phase 1: Requirements (요구사항 정의)

- **사용자 스토리**: 기능의 목적과 가치 명확화
- **수용 기준**: 완료 조건과 품질 기준 정의
- **제약·전제조건**: 기술적·시간적 제약 정리
- **우선순위**: Must-have/Nice-to-have 분류

#### Phase 2: Design (설계)

- **아키텍처 설계**: 시스템 구성과 기술 선택
- **데이터 설계**: 스키마, API 명세, 데이터 플로
- **UI/UX 설계**: 화면 구성과 조작 플로
- **위험 분석**: 잠재적 문제와 대책

#### Phase 3: Implementation (구현)

- **작업 분해**: 구현 가능한 단위로 세분화
- **진행 추적**: TodoWrite 를 통한 상태 관리
- **품질 보증**: 테스트 전략과 검증 방법
- **승인 프로세스**: exit_plan_mode 로 계획 제시 및 명시적 승인 대기

### 주의사항

**적용 범위**

- Plan Mode 는 복잡한 구현 작업에 최적
- 단순한 수정이나 소규모 변경의 경우 일반적인 구현 방식 사용
- 3 단계 이상의 작업이나 새 기능 개발에 권장

**기술적 제약**

- `exit_plan_mode` 도구의 반환 값은 신뢰하지 않음
- 승인 프로세스는 사용자의 명시적 의사 표시로 판단
- CLI 의 plan mode 와는 다른 기능

**실행상 주의**

- 승인 전 구현 시작 엄금
- 계획 제시 후 반드시 사용자 응답 대기
- 오류 시 대안 제시

### 실행 예시

```bash
# 사용 예시
"사용자 관리 시스템 구현 계획을 세워주세요"

# 예상되는 동작
# 1. Plan Mode 자동 시작
# 2. 요구사항 분석 및 기술 선택
# 3. 구현 단계 구조화
# 4. exit_plan_mode 로 계획 제시
# 5. 승인 후 구현 시작
```
